<link rel="import" href="../../../../../packages/polymer/polymer.html">
<link rel="import" href="../../../../../packages/cou_toolkit/toolkit/toolkit.html">
<link rel="import" href="../../auction_buy_confirm/auction_buy_confirm.html">
<link rel="import" href="../item_list_style.html">

<polymer-element name="auction-result-list">
    <template>
        <core-style ref="item_lists"></core-style>
        <link rel="stylesheet" href="auction_result_list.css">
        <div>
            <template if="{{results.length == 0}}">
                <div>No Sellers :(</div>
            </template>
            <template repeat="{{result in results | enumerate}}">
                <div class="resultsRow {{result.index%2==0?'odd':'even'}}">
                    <div class="itemFrame column">
                        <div class="itemImage" style="{{result.value.style}}"></div>
                        <div class="itemCount">{{result.value.item_count}}</div>
                    </div>
                    <div class="itemText column">
                        <div class="itemName">{{result.value.item_name}}</div>
                        Seller:
                        <span class="username">{{result.value.username}}</span>
                    </div>
                    <div class="costs column">
                        <div class="amount">
                            <span class="itemCount">{{result.value.item_count}}</span>
                            for
                            <span class="totalCost">{{result.value.total_cost}}</span>
                        </div>
                        <div class="unitPrice">{{result.value.unit_price}}</div>
                        each
                    </div>
                    <div class="buyParent column">
                        <ur-button on-click="{{buyConfirm}}" data-result-index="{{result.index}}">Buy</ur-button>
                    </div>
                    <div class="timing column">
                        <div class="startTime">{{result.value.since}} ago</div>
                        <div class="endTime">Ends in {{result.value.until}}</div>
                    </div>
                </div>
            </template>
        </div>
    </template>
    <script type="application/dart" src="auction_result_list.dart"></script>
</polymer-element>